import{a as r}from"./axios-c24e582b.js";import{C as i,$ as h}from"./urls-04ad3523.js";import{A as c}from"./auth-eef4144a.js";const f={DEBUG:!1,imgHost:"/",refreshTokenFlag:!1,post(e,t,o,a){this.checkDebug(),this.checkBearerToken(),r.post(e,t,{headers:i}).then(s=>{this.DEBUG&&console.log(s);let l=s.data;switch(l.status){case"success":case"message":o(l);break;case"notLogin":c.logout(),location.href="/";break;case"error":alert("결과값이 없습니다");break;case"fail":alert("잘못된 접근입니다");break}}).catch(s=>{this.setError(s)})},async asyncPost(e,t){return this.checkBearerToken(),await r.post(e,t,{headers:i})},postFile(e,t,o){this.checkDebug(),this.checkBearerToken(),r.post(e,t,{headers:h}).then(a=>{switch(this.DEBUG&&console.log(a.data),a.data.status){case"success":case"message":o(a.data);break;case"notLogin":c.logout(),location.href="/";break;case"error":alert("결과값이 없습니다");break;case"fail":alert("잘못된 접근입니다");break}}).catch(a=>{this.setError(a)})},get(e,t,o,a){this.checkDebug(),this.checkBearerToken(),r.get(e,{params:t,headers:i}).then(s=>{switch(this.DEBUG&&console.log(s.data),s.data.status){case"success":case"message":o(s.data);break;case"notLogin":c.logout(),location.href="/";break;case"error":alert("결과값이 없습니다"),location.href="/";break;case"fail":alert("잘못된 접근입니다"),location.href="/";break}}).catch(s=>{this.setError(s),a&&a(s.response.data)})},checkDebug(){this.DEBUG=!(location.hostname.indexOf("aimentor")>=0)},checkBearerToken(){c.getSession()},setError(e){this.DEBUG?(console.log(e),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)):(c.logout(),location.href="/")}};export{f as a};
