import{a as _}from"./apiService-77935b08.js";import{p as u,q as p}from"./urls-04ad3523.js";import{A as y}from"./auth-eef4144a.js";import{u as C}from"./setting-932355f8.js";import{_ as I,a as L}from"./star-02-0fcb510e.js";import{_ as S,o as c,c as r,a as e,F as f,b as h,n as v,t as A,h as m,p as E,g as R}from"./index-e96a63ea.js";import"./axios-c24e582b.js";const k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG6SURBVHgBpVOxThtBEH0ze1iK1rWdmt66EmpSpAI5VHFIXJka+tT8BVIki8SpiJNUFEkNEopywjWuc1WEfAJkdofZ5UBIGA7BSHe3N7v79s2bt8Azg8Jrdy9rFGfoQFDICQbdblrMWtzfy2xyjhXnYe0L/Fh9neYR4PPw77Z+bHyEjgXu58zTjFmAl0UdFsQ0ufiPzaS/mzUAaTCb785fvCTCAoE3ZvL1EmCOiDESLx3UyZYMsi0FaV0dQ1+cw28m1yLiDQZtTT3GYapmsORE3sV1ynTtTbqZhPFaO/3YH2ZKD0V3NR2F3M7wMAcY06tcXnL4quvGPHV1f2r2QyK5Ztdtpwd4lOquKQlsvRk1K5LKDeLmPw0PY6k1nluOIurf2TmWNLVeCcCGezUtJUYpooc7YM+90IBKAA+/PefNcRhP2S8q1AqDWwL6F7SpBBDd/LYUVmO08+3PWAhWTsyvkKgEuBPkc3JkP5RurdaAXFMtHNuoNn4VDWSid45C++m+jcH35lQGd2dk3wO5GkzvBPXoodODyuxc64Z9zSxDZF7bWIjQ5H07XX8QYBYrmviOFm7F8eCWQ58el88zu7ORfWchAAAAAElFTkSuQmCC",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHISURBVHgB3VIxaxRREJ55b5eLLGi3qWOdY1GEszZFGjnPCEIMLghnq6kv9aXXeqtTL2IRj4hFitiqIIHHXZ3UOTth77zLvRlnNmwIifkByYNl9337vW++N98AXPmF54HOrotw7JeQsCrbWBg5MOQmMN/nKjBYWU6Glwps9VyNkNflQARMQ7B4AAQRMc4bhBgNHiFBttpIfl4QeNdzdQPcBMYDz5ClK8ngrPinHbcw8byhQuQpe/7k7s6pwPaui8djzgD4x1rjzqZi73u/qkC2LoyIQtNNH54Ifui5tvCqocHXT+vJoVFwNKJ1BjzyZLJSECFoi+VFwWM7441Ox0X6z9+ATe3LMUFT96ZoGgqR/TexXTRoNJndLshTbJlwqo6i8CYsKpYuJzkx76mLzraLjQJyk7619kFZhSpBX9/BHLTAV17pt1Q8LFMygPfVsRYsrmAD2GLieXvrxJaKmhDbTJIEU+4JW6U7+7fgxETw5lwK+5KCaWpUEzp++6Jxr382haKpbFf1uoDYXXuUfLw4B19dbTbll2XmEtdvHSI5tCDMWCg5MnafPU6+/HeQTqt93l9CizUdIo1RniERD/iP3UtT7dm1Wv8AgPDKHDCGXwIAAAAASUVORK5CYII=",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG1SURBVHgBtVK/TxRBFP7em0XR1cTqroYaMgl/ghQUJuuFikPdSmt7e+2tsVrUu8rcnTYWXE9iTPYf0Pq20nAbILDzeO8SyC7hSEhgkpndee/7vvdrgLtcu4M86em+DsPzHJ8Hv1YZ8jrozn7kKzcWgLiugCYglO4U3RsJWHQiWmFGj0IYqdrqvCzIjuxnHruD47a4aEkIMYMTjS4vO/7NzHckn1RwWlXVmIL8JamK6vH9SbrhS5pFQ/S+mX4omNxOt+P37bo7+J1AOGFCqw6rInoXuYWFh+FEYPXeY3w4+ociTdfKOvBVZ03LwCjL8njxCVoKfwuR5Sigxd1nft8RfSVIWx1JmvoSc5b5DGNkKGc78WM6d/aH+VYlsq2OvRfP/cerBL4Mc4u8bmTF9BtT2FKDznxkgOxb3rpMntmMLDQ8JzcEGqlu+uJKm76JEALV7VH9QoJlPf/Yv00HwSXkePpgEb3NDV+ISMGuOYmGgEaIdRxyUStbRCkPD7Gutj0WTE+tgXMzAC1ZGirStkZV//EdjxA7xlNrcLCaGwVcFnC0IwGxEWvjtG9fmzgmCYljnuA21xmxAc3+HU+mDQAAAABJRU5ErkJggg==";const U={watch:{$route(t,s){},fc(t){this.sc="",this.allActive="active";const s=this.setting.categorys.filter(o=>o.id==t);for(let o of this.fcategorys)o.id==t?o.active="active":o.active="";if(s&&s[0]&&s[0].items&&s[0].items.length>0){this.scategorys=[];for(const o of s[0].items){let a={title:o.title,id:o.id,active:""};this.scategorys.push(a)}}this.getData()}},data(){return{fc:"",sc:"",limit:24,allActive:"active",page:1,fcategorys:[],scategorys:[],problemList:[],categorys:{},isLogin:!1}},created(){const t=y.getSession();if((t||t.memberInfo)&&(this.isLogin=!0),this.setting=C(),this.setting.serverResponse)this.settingCategory();else{const s=setInterval(()=>{this.setting.serverResponse&&(this.settingCategory(),clearInterval(s))},100)}},methods:{settingCategory(){let t="";for(const s of this.setting.categorys){let o={title:s.title,id:s.id,active:""};t||(t=s.id,o.active="active"),this.categorys[s.id]=s.title,this.fcategorys.push(o)}this.fc=t},getData(){const t={fc:this.fc,sc:this.sc,limit:this.limit.toString(),page:this.page.toString()};_.post(u,t,s=>{const o={};if(s.favoriteIds!="none"){const a=JSON.parse(s.favoriteIds);for(const n of a)o[n]=n}this.problemList=[];for(let a of s.problemList.list)a.fc=this.categorys[a.fc],a.createAt=a.createAt.toString().substring(0,10),a.favt=!!o[a.id],a.extraVars?a.hit=a.extraVars.hit:a.hit=0,this.problemList.push(a)})},setFcategory(t){this.fc=t.id},setScategory(t){t=="all"?(this.sc="",this.allActive="active"):(this.sc=t,this.allActive="");for(let s of this.scategorys)s.id==this.sc?s.active="active":s.active="";this.getData()},goContent(t){const s=JSON.parse(t.questions);let o="normal";s.questions&&(o=s.questionType),this.$router.push("/contentItem/"+o+"/"+t.id)},setFavorte(t){if(!this.isLogin){this.$router.push("/memberLoginIntro");return}const s={pid:t.id,favorite:t.favt?"no":"yes"};_.post(p,s,o=>{t.favt?(t.favt=!1,t.favorite=t.favorite-1):(t.favt=!0,t.favorite=t.favorite+1)})}}},g=t=>(E("data-v-593cd4a8"),t=t(),R(),t),x={class:"content-layout"},T={class:"category-box",style:{position:"sticky",top:"67px"}},F={class:"fcategory"},Y=["onClick"],w={class:"category-box",style:{position:"sticky",top:"127px"}},V={class:"scategory"},Q=g(()=>e("div",null,"All",-1)),P=[Q],X=["onClick"],D={class:"content-box"},z={class:"problemList"},N={class:"item-header"},H={class:"fc-box"},O=["onClick"],W={key:0,src:I},J={key:1,src:L},G=["onClick"],M={class:"subject"},j={class:"summary"},K={class:"part"},q=["onClick"],Z={class:"item"},$=g(()=>e("img",{src:k},null,-1)),tt={class:"item"},st=g(()=>e("img",{src:B},null,-1)),et={class:"item"},it=g(()=>e("img",{src:b},null,-1));function ot(t,s,o,a,n,l){return c(),r("div",x,[e("div",T,[e("ul",F,[(c(!0),r(f,null,h(n.fcategorys,i=>(c(),r("li",{class:v(i.active),onClick:d=>l.setFcategory(i)},A(i.title),11,Y))),256))])]),e("div",w,[e("ul",V,[e("li",{class:v(n.allActive),onClick:s[0]||(s[0]=i=>l.setScategory("all"))},P,2),(c(!0),r(f,null,h(n.scategorys,i=>(c(),r("li",{class:v(i.active),onClick:d=>l.setScategory(i.id)},[e("div",null,A(i.title),1)],10,X))),256))])]),e("div",D,[e("ul",z,[(c(!0),r(f,null,h(n.problemList,i=>(c(),r("li",null,[e("div",N,[e("div",H,A(i.fc),1),e("div",{class:"favorite",onClick:d=>l.setFavorte(i)},[i.favt?(c(),r("img",W)):(c(),r("img",J))],8,O)]),e("div",{class:"item-body",onClick:d=>l.goContent(i)},[e("div",M,A(i.subject),1),e("div",j,A(i.summary),1),e("div",K,A(i.partName),1)],8,G),e("div",{class:"item-footer",onClick:d=>l.goContent(i)},[e("div",Z,[$,m(" Created at   "+A(i.createAt),1)]),e("div",tt,[st,m(" Views   "+A(i.hit),1)]),e("div",et,[it,m(" Bookmark   "+A(i.favorite),1)])],8,q)]))),256))])])])}const gt=S(U,[["render",ot],["__scopeId","data-v-593cd4a8"]]);export{gt as default};
