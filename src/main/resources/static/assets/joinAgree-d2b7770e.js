import{a as b}from"./apiService-77935b08.js";import{S as I,h as V}from"./urls-04ad3523.js";import{A as U}from"./auth-eef4144a.js";import{_ as w,r,o as u,c as B,a as n,e as o,w as a,j as g,d as y,i as M,n as A,p as C,g as S}from"./index-e96a63ea.js";import"./axios-c24e582b.js";const P={name:"pcJoinAgree",data(){return{usePannel:!1,privacyPannel:!1,collectPannel:!1,frm:{},agreeUse:!1,privacyUse:!1,collectUse:!1,agreeInfo:{use:{use:"no",content:""},privacy:{use:"no",content:""},collect:{use:"no",content:""}},checkClass:"",serverFlag:!1}},created(){const s=U.getSession();if(s&&(s!=null&&s.memberInfo)){this.$router.push("/");return}},methods:{getData(){if(!sessionStorage.getItem("tempMemberInfo")){let i={message:"잘못된 접근입니다",doAction:()=>{this.$router.push("/")}};this.$eventBus.$emit("modalOpen",i)}const e=JSON.parse(sessionStorage.getItem("tempMemberInfo"));if(!(e!=null&&e.uid)){let i={message:"잘못된 접근입니다",doAction:()=>{this.$router.push("/")}};this.$eventBus.$emit("modalOpen",i)}this.frm=e,console.log(this.frm),b.get(I,{},i=>{i.data&&(this.agreeInfo=i.data)})},allCheck(){this.checkClass=="active"?(this.checkClass="",this.agreeUse=!1,this.privacyUse=!1,this.collectUse=!1):(this.checkClass="active",this.agreeUse=!0,this.privacyUse=!0,this.collectUse=!0)},validate(){if(!this.serverFlag){if(!this.agreeUse){let s={message:"이용약관에 동의하세요"};this.$eventBus.$emit("modalOpen",s);return}if(!this.privacyUse){let s={message:"개인정보 처리방침에 동의하세요"};this.$eventBus.$emit("modalOpen",s);return}if(!this.collectUse){let s={message:"개인정보 수집/동의항목에 동의하세요"};this.$eventBus.$emit("modalOpen",s);return}this.$eventBus.$emit("overlay","open"),this.serverFlag=!0,b.post(V,this.frm,s=>{this.serverFlag=!1,this.$eventBus.$emit("overlay","hide");let e=s.status,i={};if(e=="success")sessionStorage.setItem("tempMemberInfo",""),U.setSession(s.data),i={message:"회원가입을 축하 합니다",doAction:()=>{location.href="/"}};else{let d="";switch(s.data){case"doubleUid":d="중복된 이메일 입니다";break;case"wrongAuthNumber":d="잘못된 인증번호 입니다";break}i={message:d}}this.$eventBus.$emit("modalOpen",i)})}}}},c=s=>(C("data-v-5e751636"),s=s(),S(),s),E={class:"login-container"},L=c(()=>n("p",{class:"login-title"},"서비스 이용약관 동의",-1)),O={class:"button-checkbox"},T={class:"custome-checked-box"},H=c(()=>n("div",{class:"text"}," 약관 전체 동의 ",-1)),N={style:{"max-width":"30px",overflow:"hidden"}},R=c(()=>n("div",{class:"agree-title"},"(필수) 이용약관",-1)),F=["innerHTML"],j={style:{"max-width":"30px",overflow:"hidden"}},J=c(()=>n("div",{class:"agree-title"},"(필수) 개인정보 처리방침",-1)),G=["innerHTML"],$={style:{"max-width":"30px",overflow:"hidden"}},z=c(()=>n("div",{class:"agree-title"},"(필수) 개인정보 수집/동의항목",-1)),D=["innerHTML"],q={class:"button-row"},K=c(()=>n("span",null,"완료",-1));function Q(s,e,i,d,t,p){const k=r("font-awesome-icon"),x=r("v-btn"),m=r("checkbox"),_=r("v-expansion-panel-header"),f=r("v-expansion-panel-content"),h=r("v-expansion-panel"),v=r("v-expansion-panels");return u(),B("div",E,[L,n("div",O,[o(x,{type:"button",rounded:"",depressed:"",class:"whiteButton",onClick:e[0]||(e[0]=l=>p.allCheck())},{default:a(()=>[n("label",T,[n("div",{class:A("out-line "+t.checkClass)},[o(k,{class:"checked-icon",icon:"fa-solid fa-check"})],2),H])]),_:1})]),n("form",{novalidate:"",onSubmit:e[7]||(e[7]=M((...l)=>p.validate&&p.validate(...l),["prevent"]))},[t.agreeInfo.use.use=="yes"?(u(),g(v,{key:0,modelValue:t.usePannel,"onUpdate:modelValue":e[2]||(e[2]=l=>t.usePannel=l),flat:!0,class:"pannel-box"},{default:a(()=>[o(h,{style:{"border-radius":"10px"}},{default:a(()=>[o(_,{class:"pannel-header"},{default:a(()=>[n("div",N,[o(m,{modelValue:t.agreeUse,"onUpdate:modelValue":e[1]||(e[1]=l=>t.agreeUse=l)},null,8,["modelValue"])]),R]),_:1}),o(f,{class:"pannel-body"},{default:a(()=>[n("div",{class:"content",innerHTML:t.agreeInfo.use.content},null,8,F)]),_:1})]),_:1})]),_:1},8,["modelValue"])):y("",!0),t.agreeInfo.privacy.use=="yes"?(u(),g(v,{key:1,modelValue:t.privacyPannel,"onUpdate:modelValue":e[4]||(e[4]=l=>t.privacyPannel=l),flat:!0,class:"pannel-box"},{default:a(()=>[o(h,{style:{"border-radius":"10px"}},{default:a(()=>[o(_,{class:"pannel-header"},{default:a(()=>[n("div",j,[o(m,{modelValue:t.privacyUse,"onUpdate:modelValue":e[3]||(e[3]=l=>t.privacyUse=l)},null,8,["modelValue"])]),J]),_:1}),o(f,{class:"pannel-body"},{default:a(()=>[n("div",{class:"content",innerHTML:t.agreeInfo.privacy.content},null,8,G)]),_:1})]),_:1})]),_:1},8,["modelValue"])):y("",!0),t.agreeInfo.collect.use=="yes"?(u(),g(v,{key:2,modelValue:t.collectPannel,"onUpdate:modelValue":e[6]||(e[6]=l=>t.collectPannel=l),flat:!0,class:"pannel-box"},{default:a(()=>[o(h,{style:{"border-radius":"10px"}},{default:a(()=>[o(_,{class:"pannel-header"},{default:a(()=>[n("div",$,[o(m,{modelValue:t.collectUse,"onUpdate:modelValue":e[5]||(e[5]=l=>t.collectUse=l)},null,8,["modelValue"])]),z]),_:1}),o(f,{class:"pannel-body"},{default:a(()=>[n("div",{class:"content",innerHTML:t.agreeInfo.collect.content},null,8,D)]),_:1})]),_:1})]),_:1},8,["modelValue"])):y("",!0),n("div",q,[o(x,{type:"submit",rounded:"",class:"blackButton"},{default:a(()=>[K]),_:1})])],32)])}const se=w(P,[["render",Q],["__scopeId","data-v-5e751636"]]);export{se as default};
