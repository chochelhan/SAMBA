import{a as h}from"./apiService-77935b08.js";import{e as f,C as v}from"./urls-04ad3523.js";import{A as b}from"./auth-eef4144a.js";import{a as E}from"./axios-c24e582b.js";import{_ as I,r as a,o as d,c,e as r,w as u,i as g,a as s,d as S,n as k,p as x,g as U}from"./index-e96a63ea.js";const V={data(){return{serverFlag:!1,uid:"",form:!1,uidDouble:!1,checkUid:!1,active:""}},created(){const e=b.getSession();e&&(e!=null&&e.memberInfo)&&this.$router.push("/"),sessionStorage.setItem("snsTempJoinInfo",""),sessionStorage.setItem("joinUid","")},methods:{async uidErrors(e){if(!e)return this.active="","Please enter your email";if(this.checkUid=!1,/^[a-z0-9.-]+@[a-z.-]+\.[a-z]+$/i.test(e)){switch(h.checkBearerToken(),(await E.post(f,{uid:e},{headers:v})).data.status){case"success":this.checkUid=!0;break}return this.checkUid?(this.active="active",!0):(this.active="","This is a duplicate email address")}else return this.active="","Invalid email address"},validate(){this.form&&this.uidErrors(this.uid).then(e=>{this.checkUid&&(sessionStorage.setItem("joinUid",this.uid),this.$router.push("/join"))})}},mounted(){}},n=e=>(x("data-v-a20a55af"),e=e(),U(),e),y={class:"login-container"},C=n(()=>s("p",{class:"page-title"},"Sign up by email",-1)),w={class:"input-ul"},B={class:"input-box"},T=n(()=>s("div",{class:"label"},"Email",-1)),j={class:"auth-item"},z={class:"input-text-box"},A={key:0,class:"error-message"},D={class:"button-row"},N=n(()=>s("span",null,"Sign up",-1));function H(e,i,M,P,t,l){const _=a("v-text-field"),m=a("v-btn"),p=a("v-form");return d(),c("div",y,[C,r(p,{modelValue:t.form,"onUpdate:modelValue":i[1]||(i[1]=o=>t.form=o),novalidate:"",onSubmit:g(l.validate,["prevent"])},{default:u(()=>[s("ul",w,[s("li",B,[T,s("div",j,[s("div",z,[r(_,{modelValue:t.uid,"onUpdate:modelValue":i[0]||(i[0]=o=>t.uid=o),variant:"outlined",rules:[l.uidErrors],placeholder:"Please enter your email"},null,8,["modelValue","rules"]),t.uidDouble?(d(),c("div",A,"This is a duplicate email")):S("",!0)])])])]),s("div",D,[r(m,{type:"submit",class:k("submitButton "+t.active),variant:"tonal"},{default:u(()=>[N]),_:1},8,["class"])])]),_:1},8,["modelValue","onSubmit"])])}const L=I(V,[["render",H],["__scopeId","data-v-a20a55af"]]);export{L as default};
