import{a as u}from"./apiService-77935b08.js";import{v as b,O as A}from"./urls-04ad3523.js";import{U as D}from"./util-75dcb7cf.js";import{p as S}from"./paging-4698e803.js";import{e as x}from"./eduAnswer-d417c8bd.js";import{_ as k,r as d,o as a,c as n,a as e,F as _,b as g,e as c,w as E,t as l,p as V,g as I}from"./index-e96a63ea.js";import"./axios-c24e582b.js";import"./auth-eef4144a.js";import"./index-0cc4ea83.js";const P={components:{paging:S,eduAnswer:x},data(){return{eduList:[],page:1,limit:20,paging:{},pagingReload:!1,userAnswerList:[],answerDialog:!1,answerDialogSubject:"",pcView:!0}},created(){window.document.body.clientWidth<=1023&&(this.pcView=!1),this.checkPayExpired(),this.getData()},methods:{checkPayExpired(){u.post(b,{},s=>{if(s.status!="success"){const o={message:"사용기한이 만료되었습니다",doAction:()=>{this.$router.push("/mypage/paymentGuide")}};this.emitter.emit("modalOpen",o)}})},getData(){const s={orderByField:"createAt",orderBySort:"desc",page:this.page.toString(),limit:this.limit.toString()};u.post(A,s,o=>{if(this.eduList=[],o.eduList)for(let r of o.eduList)r.claDate=D.getTimeFormat(r.claDate),this.eduList.push(r);this.paging={total:o.eduTotal,currentPage:this.page,pageGroup:10,limit:this.limit},this.pagingReload=!0,setTimeout(()=>{this.pagingReload=!1},500)})},pageMove(s){this.page=s.page,this.getData()},showAnswer(s){this.answerDialogSubject=s.claName,this.answerDialog=!0,this.userAnswerList=JSON.parse(s.commentInfo.answers),console.log(this.userAnswerList)}},mounted(){window.addEventListener("resize",()=>{window.document.body.clientWidth<=1023?this.pcView=!1:this.pcView=!0})},beforeUnmount(){window.removeEventListener("resize",()=>{window.document.body.clientWidth<=1023?this.pcView=!1:this.pcView=!0})}},m=s=>(V("data-v-ba72cd37"),s=s(),I(),s),N={class:"edu-container"},R={class:"page-body"},T=m(()=>e("div",{class:"page-title"},"지난 교육",-1)),U={key:0,class:"edu-table",cellspacing:"0",cellpadding:"0",border:"0"},C=m(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"150px"}},"날짜"),e("th",{style:{width:"150px"}},"이름"),e("th",null,"교육명")])],-1)),j=["onClick"],B={key:1,class:"edu-ul"},G={class:"main-li"},M=["onClick"],F={class:"subject"},z={class:"date"},O={class:"modal-layout",style:{background:"#fff"}},W={class:"modal-header"},Y={class:"modal-title"};function J(s,o,r,X,i,p){const h=d("paging"),w=d("font-awesome-icon"),f=d("eduAnswer"),v=d("v-dialog");return a(),n("div",N,[e("div",R,[T,i.pcView?(a(),n("table",U,[C,e("tbody",null,[(a(!0),n(_,null,g(i.eduList,(t,L)=>(a(),n("tr",null,[e("td",null,l(t.claDate),1),e("td",null,l(t.userName),1),e("td",null,[e("span",{class:"subject",onClick:y=>p.showAnswer(t)},l(t.claName),9,j)])]))),256))])])):(a(),n("ul",B,[(a(!0),n(_,null,g(i.eduList,(t,L)=>(a(),n("li",null,[e("div",G,[e("div",{class:"subject-box",onClick:y=>p.showAnswer(t)},[e("div",F,l(t.claName),1),e("div",z,l(t.userName)+" "+l(t.claDate),1)],8,M)])]))),256))])),c(h,{paging:i.paging,reload:i.pagingReload,onPageMove:p.pageMove},null,8,["paging","reload","onPageMove"])]),c(v,{modelValue:i.answerDialog,"onUpdate:modelValue":o[1]||(o[1]=t=>i.answerDialog=t),width:"1200",persistent:"",style:{"z-index":"100"}},{default:E(()=>[e("div",O,[e("div",W,[e("div",Y,l(i.answerDialogSubject),1),e("div",{class:"modal-close",onClick:o[0]||(o[0]=t=>i.answerDialog=!1)},[c(w,{style:{cursor:"pointer"},icon:"fa-solid fa-xmark"})])]),c(f,{userAnswerList:i.userAnswerList},null,8,["userAnswerList"])])]),_:1},8,["modelValue"])])}const oe=k(P,[["render",J],["__scopeId","data-v-ba72cd37"]]);export{oe as default};
