import{a as C}from"./apiService-77935b08.js";import{d as b}from"./urls-04ad3523.js";import{A as m}from"./auth-eef4144a.js";import{u as v}from"./setting-932355f8.js";import{s as u,w as I}from"./realTimeEdu-31352dc5.js";import{_ as w,m as U,r as R,o as g,c as r,d as c,a as t,F as p,b as S,h as M,e as f,w as L,n as G,t as A,p as j,g as B}from"./index-e96a63ea.js";import{_ as y}from"./btn_popclose-3d27763f.js";import{_ as E}from"./logo-157c6efc.js";import"./axios-c24e582b.js";const T="/assets/ico_sns2-ba9d5486.svg",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAATQSURBVEhLrVddTJtVGH6/ttCWtpS5QqlZgbYwExOZQtyNMbAoLHFMFvwJS7xZTFzMdiPL9MZ0zl2pKDeLifHKZT8a5yAhJCoJbpKZGMMcGiOhLW2RddAxLLRf/+iPz/koTYGefjg4CfTL+Xmf93n/znsE2uaYmZkxZzKZYyqVqgO/rdlsdi++H6RSqWpBEBYVCsUEvkcxP9jU1PRgO2IFuU1ut7tVqVS+D6GdOp2OKisrKwBEmJP+0uk0AZSgEIXD4WgkEhGw/j3mLkCJ30vJLwnu9XoHIai9pqamSqPRyOmZX4/H4xQMBkNQeKyhoeEV3sGi4C6Xax9AXQBV6/V6WevwhIuimF1YWIjDQg4ocX/zvi2Cp6amDGVlZQFs1jPz7nQwt8zOzoogUQsykUJ5G8BzjP+22+36nYJuPg8XigjMRpvNNr++tgEcwRXHono3GG8GZxbw+/0xh8NRsQUcmg2ZTKZumGe3SeflIROyi4uLQyDYwyYl5iydysvLR61W6x455NXJCYre+Joy8/cp5ZmWtpcdaCH1c+2k7emVO87YLyMt2+DaSQmcsbZYLN1qtZp7OBsJ0/K5s7Q6eYe7R2G2kPH8J6Rq3M/dgzRkGTCEgO4RWOXCzhmYIu+LzScZcOjM23mm3LxFEar69IuS4OwsMGMgahVg8pMGg+EzpAEXPPzxeYr/OJLH1HQegYmPSyCZ+QAlbt+i6HfXyPhhvywwEwLmy6gBfQJMfq22traXW8HCdyncf5rit5MSuOGskzSHu2R9W2pDLBZjFfAyA/fA33aevzPTfZT55yIl/niMUveeJWP/8I6A2eFEIkGBQMAleDyeUH19vZFdEsVGeuIFyobGpSVl87ckVHfnt7kXMvT56JpFNg+HWUGnOsqLy1zL+ZCAf766urp6Hp0N4C2jJOxpy2+960/TmSvxokeb6xQ08IaWayWUXP+OmD8qeK7aLW/b5yMJK93UvkoDhz7isvlqPEmXxlel9c6nVPTe0eJ1I+dzt+Dz+a4izY5rtRwTIdr7x07QN3GHJNR58BQdtR3aogDzf9/lGImJtaV3u9R0uFlVVNFctF9hef4W8nygVJ5/8OtFGvHdzAvqsrVT7/4j9ESVjcKrIt269xtd+iVED30d0h5zpUBXT3PLBsvzFeT5OwKu0WrcYn7UWm50MICTY05yhfxck7MFpdhK2uCb9OUJEzUi2nkDFS6O/u9xqbYj4ofA/GUUGm7XwhRgFvgZLHlDo6og59PnqMOx5qJig7VYYH6DtVcSGNg/g1ttDClXVZIaFieCf9Gw9yeaDnnzlmipfpLa9h2UYsFQpispAim2jObyedzrf+aZsmYxd58/cs8mpzi6W1paWroO1q+xvRuAUO2iqHZaXrWTE15qfb2XK2zRNoAj7Sy46Kdxve56OwPLRqFAQ+GDYouJcdvo0e7Mw/+63bBAjnEUhGrQQIqF1inqX2hZCwt4kAHanfTtrGcDGRGy7MWeUCWDC264Dk1fNJvNxv/5YskAdAUvllEE1+u8WJCNbBSEAzCXE9q/hLdapvCthkIhvdOYadlbbWWFFS4R3lIOY+4CS6dSQSgLvn54bm5ubzKZPAbBnRDcAlYmgC/hm3W8DzF/B4r8gLlBZMy/28mM/wAeMVej+7sqRwAAAABJRU5ErkJggg==",D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMvSURBVEhLxVdNSFRRFP7unahkhoIonVEsU8lF2c8i0oW0yCBbRItqYW20Mlo0+LMwDVJDNInUMIKybFMtWrUriKBWFS36JTR/ssQZNYsSpR+adzr36Qw6vvfmNoz1YBbvzjnfd777zjn3XAHNh0aQB5LFIJEP0Cp2Uz/1fOK1ICQ9gzBuCi+e6kAKJyMiLMWILAWhChCZOoAg6oNEK7zGdSHww87HkpjVuVnd8RlCrxbhPCNGAc7BZ1yyCsCaeFjWQ4i6+AijvATVCZ9xJhprDjFvrQsBeYVJSxNCGgYh6kKqUcbKQ+GlucRBeZYTpTqhpBEmamHlJ+cRU0DyomheENIIKFWIVKNdvZqKzewNyvf8Gmci6YZLQYSMLJGO79PEAVnOpG2x3J+/8uDeg5XoHUhC34DbNPe4f2Nz7gQK8r+iqPBLLAjFZqoWrFZwQn3ghEq385qclKhtzMaL18scgVUQNRWDZhD2D33kEssQZkcyXI/tDIOji3GqMSuiUEMSasoHULTTQb0M5QuKkcknqtfh5RtnpdHBKOXXOt7Cl/LLOk7BGU4B10P+d7uVRW9/Eg771+uInGeza8c4aisH7XwfCRqW3fx9c6wsbt9JxsXO1XERb9owgY6Wd9a+RD2sWHImiOX/lBj0zZF44bZaETtstdqFeJJL+V1o7saWjZNOW22fXMpLqfbX5GBqapH2t963ZxT+Y0NO9pxcGgeDIm9qz0D/TLeyQ3RzGZUUB3Bg75hzkGY5xWggYYS791egud16CMnKnEJBnmqZn+1rd3YoZgNRLTMoueCEY93sL8nF6NgSpCT/hL9syOzRXm4Qtk3CTjPREJ/Na7QOiabWDKjWubtw3LkVamXBzCGhbDmGJLhkP6v2WfmqQ8LjMbRgnY34w/qMtWoGi0wgNOw6wpvemQB0ewjCUZEWuqoM/v/oEw6TW+hljqcsocoFdfC85Z+NaT3eBuVpHvoaEkJO1CDSjPpoLNubBB+XhzjtzrP65PgCIO4iokqkhm5Y+etcYUpgoJKPzmytAKavMG18hen66yuMFQEXwja+1hyEIbZCkCo7q0vbLZ5Tn+gE+Afv3kLEXAPOtAAAAABJRU5ErkJggg==",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMqSURBVEhLxZdNSFRRFMfPnQ8/sJCQollU9qGtMoJi5m3KRauglVBgERjqTERfziIX4UcEFaEWUsyoKEkZtQgiaNVCbfFmEPqgTR9KVtBEESlWfryZdztndIY3z/ucd4eJ7mbk3nPP757j/553LgObw93r9ekJVssA9jDGPBz4WtrKgH3nnMc4wJiDwV3NH4nacYl+VhgD1UXu+dnjAI4gErbYcQjAx9GuUysoGoC64TmrPWLwYFWJ60/JCXQSxOjW2wNmWmEWvuLMtXhh0S3RAYRgV9jXhilszQVo3sM5tMYD6kXzfCb4ATjdP5UeNML05nX0a2vURjgEiZTXDLAr5LuCqT2fV+SSM0z91Xgg0rwM7Ap7mxk4Lv8LqMHnOc2vXl+8DTRQva75uQ+5CsnuYfHKxeK/YSs0qbNJsDusnMWfLpGD0oJVUFW2LWPpWeylXZbILhk1Aw7MHfZ9BMY2iKz2enbB04M3M5b2Pz4Jo7EX6TlaJ7vUMK+b/H7SGtVyRhUJdIdqFYIIPDkTg8p7NbmCsR7pCsumZBGYiEH1BnS/vp+ES0YMpHCGxWIYi8U+mYjJdmphBiqGamB64Zc8GPgIc4eUN6jt7bJgsh989wTqhy9Jg1FXbyniKYy41C741Y/3UL7aA6R2GiSklt31MuJCLp+WBpOaH02OQodyJgke+fIcLwSTB8ummsAU5VjNbdhZViFMVJbrhB+9xVRLiSsFtlJ7Kv3Ge24+HaZ6RPo6pcDkrK/6AhyrPLAs6mwRJ6+TbAExgklg47UP00KzWbkWC0iyZPYok7hpo+gfZk6pEUz2p3YcTgvNFpjzz9iXbbL1kTCKiAoGXSnjMNZpmqd1srMYSx8JWu1Uil0lMIGn8FhZ52Oe+jDswTZTD5buQJxhX70DWG8+AFY+dOANCX+kj9b/f+uTOiU2BWH8uzGfkeucdycCkdNGn+L2NqS0YBVszwcci0V73B9pM/uyfEk4Q96j2Px14AHW5XIA7Ke/cdCDiUD0jmh/9ifMwlwdbmxCOWQ2XpanwScM511aYXG//BNG4BT7Mq/O4ciKjzYnH9IaohE7GfoLsV6DFKRDT70AAAAASUVORK5CYII=",Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMrSURBVEhLxZdNTFNBEMdnWr+gr0JUFGmf0tbIxRsa9aQXT+LRmCiaSBCCBwOSKBcU9eAHUUhMJCDBRFETLx7UkxdNTNQodzG2RV8LlRqE9gF+0I6zr7Rpy+P1tYG4B9LSmf9vdndmdhfB5PAHZvYQxY4C0i522QyAZQlXCvOfMSD8gGB96JKL35uRRCMjP9Ga+Khah3FqBUS3GUEi+sK2tywO6Z4L8ddiPrrgUIhsM7HpJtCAUG4GuMCGIESInRaH7Y5eALpgrxLtQISLBQGznISOy2G/nK2VAeZlso4Eon0cad1SQJMaSDRQ6bQ3IGIs9b90gDeoXmOj80sJTWrxZK57HFLbArBXibRxRFeXA5qCA7Z4nFK3+K4ttcheCqj+ghPJbLQEYytB8sgyzmpgb0BtRqCubP/obBxqu79D6OccV4g5dWKz8tIVMNi8CexFFp1kT8yat5TQF1S/sq6cbTXk+w2dTycgHIlDT2MZbK9YZUj/PPoHrjyZABFw+5H1UO1erQOGb26HVIlaR4LYWz1FAe5/OQUHq23Q9WwS2g+vg/07inThAnq6LwzNNaXwYmga6g+U6IIT+2vdi0aZnAT3NG4EIdzUG4aWQ6VQs9OWAX/+cTojsKbecUOwyHD0KdFXHMI+oxkLsBhJuACLAMQQK/L4jZqxFbnAQPAafYHIJ558lRmwsBH7J4Sr5vd7mFdCBJaeSDnBQMPI9TvJ9VtiFpyEn7v/Q3O5cWLDguzNBeaEnioInKuwTIHzXepcUPF7LjCf4cN5JZcZqCmwSC6z5WQWagaslZNRAxEZfFy0zMm5fLhay3ywSMtMNZD5ljnCLXNLXuoFGnMvV7hlbjU8JArUNnSj+aNRAysKFf0F1csdjG+Pyzj4HoZOySXuYKnDzqdE6vnsu7uMWK4iOuWW1/Yn9jlt/JerT5LvC0R7+XPDks6c4LZbtp9J19S9V/iD0QtEcGkp4ELHI9s7srUWvdD4FLWWkG6yQeJMzHNw2YwjYatblgb1XHM/YYLqSU6Ks3yCbTPD1p4wFuyyVEgDeT9h9AB+ZWY3X5GOGT7a0PrI5Sx+ZybAf4dUpsxxiFUfAAAAAElFTkSuQmCC";const Q={props:["accept"],computed:{...U(I,["loginSocketData"])},watch:{loginSocketData(e){let s={};switch(e.type){case"loginCheck":e.result=="success"?this.loginSuccess():s={type:"confirm",message:"이미 로그인된 아이디 입니다<br>기존 로그인을 해제하고 새로 로그인하시겠습니까?",doAction:()=>{u.reLogin(this.uid)},cancleAction:()=>{this.$router.back()}};break;case"reLogin":e.result=="success"?this.loginSuccess():s={message:"현재 수업중인 아이디 입니다<br> 새로 로그인은 불가능합니다",doAction:()=>{this.$router.back()}};break}this.emitter.emit("modalOpen",s)}},data(){return{uid:"",upass:"",insertFlag:!1,snsList:[],loginResult:{},snsCode:"",setting:null,joinDialogShow:!1,agreeDialogShow:!1,agreeTitle:"",agreeHtml:"",joinType:""}},created(){const e=m.getSession();if(e&&(e!=null&&e.memberInfo)){this.$router.push("/");return}if(this.emitter.on("snsLoginResult",this.snsLoginResult),this.setting=v(),this.setting.serverResponse)this.settingSns();else{const s=setInterval(()=>{this.setting.serverResponse&&(this.settingSns(),clearInterval(s))},100)}},methods:{settingSns(){this.snsList=[];let e={};this.setting.sns.fb&&this.setting.sns.fb.use=="yes"&&(e={img:T,code:"fb",title:"페이스북으로 로그인",joinTitle:"페이스북으로 회원가입"}),this.setting.sns.ka&&this.setting.sns.ka.use=="yes"&&(e={img:D,code:"ka",title:"카카오로 로그인",joinTitle:"카카오로 회원가입"},this.snsList.push(e)),this.setting.sns.gl&&this.setting.sns.gl.use=="yes"&&(e={img:z,code:"gl",title:"구글로 로그인",joinTitle:"구글로 회원가입"},this.snsList.push(e)),this.setting.sns.nv&&this.setting.sns.nv.use=="yes"&&(e={img:J,code:"nv",title:"네이버로 로그인",joinTitle:"네이버로 회원가입"},this.snsList.push(e)),e={img:Z,code:"email",title:"Log in with email",joinTitle:"Sign up by email"},this.snsList.push(e)},loginCheckParams(){let e="/";sessionStorage.getItem("shareLoginUrl")&&(e=sessionStorage.getItem("shareLoginUrl"),sessionStorage.setItem("shareLoginUrl","")),location.href=e},loginSuccess(){const e={uid:this.uid.toString()};C.post(b,e,s=>{this.emitter.emit("overlay","hide"),s.status=="success"?(m.setSession(s),this.loginCheckParams()):this.emitter.emit("modalOpen",{message:"잘못된 접근입니다"})})},getSiteDomain(){return"https://"+location.host+"/api/member/snsCallBack"},snsLogin(e,s){s=="join"?this.joinType="join":this.joinType="",this.snsCode=e;let n="",l,i,a;switch(e){case"ka":a=this.setting.sns.ka.key,n=this.getSiteDomain()+"/ka",l="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id="+a+"&redirect_uri="+n,i="width=450,height=600,left=100,top=100";break;case"nv":a=this.setting.sns.nv.key,n=this.getSiteDomain()+"/nv",l="https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id="+a+"&redirect_uri="+n,i="width=600,height=600,left=100,top=100";break;case"fb":a=this.setting.sns.fb.key,n=this.getSiteDomain()+"/fb",l="https://facebook.com/v2.11/dialog/oauth?client_id="+a+"&redirect_uri="+n,i="width=600,height=600,left=100,top=100";break;case"gl":a=this.setting.sns.gl.key,n=this.getSiteDomain()+"/gl",l="https://accounts.google.com/o/oauth2/v2/auth?",l+="scope=https%3A//www.googleapis.com/auth/drive.metadata.readonly&",l+="access_type=offline&",l+="include_granted_scopes=true&",l+="response_type=code&",l+="redirect_uri="+n+"&",l+="client_id="+a,i="width=600,height=600,left=100,top=100";break}e=="email"?s=="join"?this.$router.push("/joinEmail"):this.$router.push("/memberLogin"):window.open(l,"snsLoginWin",i)},snsLoginResult(e){if(e)switch(e.status){case"success":this.uid=e.uid.toString(),u.loginCheck(e.uid.toString());break;case"message":if(e.code=="goJoin")this.joinType=="join"?(sessionStorage.setItem("joinUid",e.uid.toString()),sessionStorage.setItem("snsTempJoinInfo",JSON.stringify(e)),this.$router.push("/join")):this.emitter.emit("modalOpen",{message:"먼저 회원가입 하세요"});else{const s=e.code=="notauth"?"미인증된 아이디 입니다":"탈퇴한 회원입니다";this.emitter.emit("modalOpen",{message:s})}break;default:this.emitter.emit("modalOpen",{message:"잘못된 접근입니다"});break}},snsJoin(e){this.snsLogin(e,"join")},setAgree(e){const s=this.setting.agree[e];e=="privacy"?this.agreeTitle="Privacy policy":this.agreeTitle="Terms of Use",this.agreeHtml=s.content,this.agreeDialogShow=!0}},beforeUnmount(){this.emitter.off("snsLoginResult")}},h=e=>(j("data-v-9c25116f"),e=e(),B(),e),Y={key:0,class:"page-title"},W={key:1,class:"sns-box"},V={class:"sns-ul"},N=["onClick"],O=["src"],F={key:2,class:"button-row"},_={class:"join-btn"},x=h(()=>t("span",null,"Not a member yet?",-1)),X={class:"modal-layout"},K={class:"modal-header join-guide"},H={class:"modal-body",style:{height:"350px"}},q=h(()=>t("div",{class:"modal-logo"},[t("img",{src:E,style:{width:"110px"}})],-1)),P={class:"sns-ul",style:{margin:"50px 0 60px 0"}},$=["onClick"],ee=["src"],se={class:"agree-row"},te=h(()=>t("span",{class:"dot"},"|",-1)),ie={class:"modal-layout"},oe={class:"modal-header"},ne={class:"modal-title"},ae={class:"modal-body"},le=["innerHTML"];function ge(e,s,n,l,i,a){const d=R("v-dialog");return g(),r("div",{class:G("login-intro-container "+n.accept)},[n.accept!="joinEdu"?(g(),r("div",Y,"LOG IN")):c("",!0),i.snsList.length>0?(g(),r("div",W,[t("ul",V,[(g(!0),r(p,null,S(i.snsList,o=>(g(),r("li",{class:"sns-li",key:o.code,onClick:k=>a.snsLogin(o.code)},[t("div",null,[t("img",{src:o.img},null,8,O),t("span",null,A(o.title),1)])],8,N))),128))])])):c("",!0),n.accept!="joinEdu"?(g(),r("div",F,[t("div",_,[x,M(),t("span",{onClick:s[0]||(s[0]=o=>i.joinDialogShow=!0)},"Sign up")])])):c("",!0),f(d,{modelValue:i.joinDialogShow,"onUpdate:modelValue":s[4]||(s[4]=o=>i.joinDialogShow=o),persistent:"",style:{"z-index":"1000000","max-width":"98%",width:"600px",margin:"auto"}},{default:L(()=>[t("div",X,[t("div",K,[t("img",{src:y,onClick:s[1]||(s[1]=o=>i.joinDialogShow=!1)})]),t("div",H,[q,t("ul",P,[(g(!0),r(p,null,S(i.snsList,o=>(g(),r("li",{class:"sns-li",key:o.code,onClick:k=>a.snsJoin(o.code)},[t("div",null,[t("img",{src:o.img},null,8,ee),t("span",null,A(o.joinTitle),1)])],8,$))),128))]),t("div",se,[t("span",{class:"agree-btn",onClick:s[2]||(s[2]=o=>a.setAgree("use"))},"Terms of Use"),te,t("span",{class:"agree-btn",onClick:s[3]||(s[3]=o=>a.setAgree("privacy"))},"Privacy policy")])])])]),_:1},8,["modelValue"]),f(d,{modelValue:i.agreeDialogShow,"onUpdate:modelValue":s[6]||(s[6]=o=>i.agreeDialogShow=o),persistent:"",style:{"z-index":"1000000",width:"1000px","max-width":"98%",margin:"auto"}},{default:L(()=>[t("div",ie,[t("div",oe,[t("div",ne,A(i.agreeTitle),1),t("img",{src:y,onClick:s[5]||(s[5]=o=>i.agreeDialogShow=!1)})]),t("div",ae,[t("div",{class:"agree-html",innerHTML:i.agreeHtml},null,8,le)])])]),_:1},8,["modelValue"])],2)}const fe=w(Q,[["render",ge],["__scopeId","data-v-9c25116f"]]);export{fe as default};
