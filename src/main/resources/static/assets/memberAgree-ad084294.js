import{a as _,u as I,v as x}from"./urls-dc95fcef.js";import{Q as T}from"./vue-quill.snow-e5675dfb.js";import{J as k}from"./jquery-d8551b6e.js";import{_ as w,O as N,r as m,o as a,c as d,a as e,F as C,b as S,t as h,i as A,k as g,N as p,h as c,e as b,w as F,d as L,n as M,j as v,p as R,g as D}from"./index-e96a63ea.js";import"./axios-c24e582b.js";const O={components:{QuillEditor:T},setup(){return{myEditor:N(null)}},data(){return{memberList:[{name:"이용약관",use:"yes",id:"use",content:""},{name:"개인정보처리방침",use:"yes",id:"privacy",content:""},{name:"개인정보 수집/동의항목",use:"yes",id:"collect",content:""},{name:"탈퇴안내",use:"yes",id:"out"}],agrees:{},memberRegistTitle:"",agreeId:"",name:"",content:"",use:"yes",serverFlag:!1,editorOption:{placeholder:"내용을 입력하세요",theme:"snow",modules:{toolbar:{container:[[{header:1},{header:2}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]}}}}},created(){this.getData()},methods:{getData(){this.serverFlag||(this.serverFlag=!0,this.agrees={},_.post(I,{},i=>{this.serverFlag=!1;let t={};i.setting&&i.setting.agree&&(t=JSON.parse(i.setting.agree));for(let s of this.memberList)t[s.id]?(s.use=t[s.id].use,s.content=t[s.id].content,this.agrees[s.id]=s):this.agrees[s.id]=s;this.choiceMember(this.memberList[0].id)}))},choiceMember(i){let t={};for(let s of this.memberList)s.id==i?(s.active="active",t=s):s.active="";this.agreeId=t.id,this.memberRegistTitle=t.name,this.content=t.content,this.use=t.use},onEditorChange(){this.content=this.myEditor.getHTML()},validate(){if(!this.agreeId)return;if(this.agrees[this.agreeId].use=this.use,this.agrees[this.agreeId].content=this.content,!this.content){let t={message:"내용을 입력하세요"};this.emitter.emit("modalOpen",t);return}let i={agree:JSON.stringify(this.agrees)};this.serverFlag||(this.serverFlag=!0,this.emitter.emit("overlay","open"),_.post(x,i,t=>{if(this.serverFlag=!1,this.emitter.emit("overlay","hide"),t.data){for(let r of this.memberList)r.id==this.agreeId&&(r.content=this.content,r.use=this.use);let s={message:this.memberRegistTitle+" 정보가 저장 되었습니다"};this.emitter.emit("modalOpen",s)}}))}},mounted(){},updated(){k(".quill-content-box .ql-editor").css({"min-height":"500px","max-height":"500px"})}},f=i=>(R("data-v-5ca6b01f"),i=i(),D(),i),V={class:"page-container"},G={class:"member-container"},Q={class:"member-list"},q=f(()=>e("div",{class:"member-list-header"},[e("div",{class:"member-title",style:{padding:"3px 0 0 0"}},"약관 목록")],-1)),B={class:"member-list-body"},J={class:"main-member"},P={class:"main-li"},U=["onClick"],z={class:"member-regist"},j={key:0},H={class:"member-title"},K={class:"table-ul"},W=f(()=>e("div",{class:"label"}," 사용여부 ",-1)),X={class:"label-input"},Y={class:"radio-box"},Z={class:"quill-content-box",style:{width:"900px"}},$={class:"button-row"};function ee(i,t,s,r,o,l){const u=m("font-awesome-icon"),y=m("QuillEditor"),E=m("v-btn");return a(),d("div",V,[e("div",G,[e("div",Q,[q,e("div",B,[(a(!0),d(C,null,S(o.memberList,(n,te)=>(a(),d("ul",J,[e("li",P,[e("div",{class:M("main-data "+n.active)},[e("div",{class:"gname",onClick:se=>l.choiceMember(n.id)},[c(h(n.name)+" ",1),n.use=="yes"?(a(),v(u,{key:0,icon:"fa-solid fa-eye"})):(a(),v(u,{key:1,icon:"fa-solid fa-eye-slash"}))],8,U)],2)])]))),256))])]),e("div",z,[o.agreeId?(a(),d("div",j,[e("div",H,h(o.memberRegistTitle),1),e("form",{novalidate:"",onSubmit:t[2]||(t[2]=A((...n)=>l.validate&&l.validate(...n),["prevent"]))},[e("ul",K,[e("li",null,[W,e("div",X,[e("div",Y,[e("label",null,[g(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=n=>o.use=n),value:"yes"},null,512),[[p,o.use]]),c(" 사용 ")]),e("label",null,[g(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=n=>o.use=n),value:"no"},null,512),[[p,o.use]]),c(" 사용안함 ")])])])])]),e("div",Z,[b(y,{ref:"myEditor",content:o.content,options:o.editorOption,contentType:"html",onEditorChange:l.onEditorChange},null,8,["content","options","onEditorChange"])]),e("div",$,[b(E,{class:"submit-button",type:"submit",style:{width:"250px"}},{default:F(()=>[c(h(o.memberRegistTitle)+" 저장 ",1)]),_:1})])],32)])):L("",!0)])])])}const le=w(O,[["render",ee],["__scopeId","data-v-5ca6b01f"]]);export{le as default};
