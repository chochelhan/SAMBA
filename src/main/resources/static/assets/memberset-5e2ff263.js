import{a as v,s as x,t as R}from"./urls-dc95fcef.js";import{_ as N,r as d,o as r,c as a,a as e,F as E,b as K,i as I,t as m,e as _,d as f,w,n as L,h as y,j as S,p as U,g as q}from"./index-e96a63ea.js";import"./axios-c24e582b.js";const C={computed:{form(){return{snsKey:this.snsKey,snsSecret:this.snsSecret}}},data(){return{serverFlag:!1,snsName:"",snsUse:"사용",snsKey:"",snsSecret:"",snsList:{ka:{name:"카카오",active:"",use:"no",key:"",secret:"",secretRequired:!1},nv:{name:"네이버",active:"",use:"no",key:"",secret:"",secretRequired:!0},gl:{name:"구글",active:"",use:"no",key:"",secret:"",secretRequired:!0}},showKey:"",redirectUrls:{},snsCallBackUrl:"",secretReq:!1,fieldRequired:t=>!!t||"필수입력 항목",useItems:["사용","사용안함"]}},created(){this.getData()},methods:{getData(){this.serverFlag||(this.serverFlag=!0,v.post(x,{},t=>{if(this.serverFlag=!1,t.setting&&t.setting.sns){const s=JSON.parse(t.setting.sns);for(let o in s)o!="fb"&&s[o]&&(this.snsList[o]=s[o],this.snsList[o].active="")}}))},choiceSns(t){for(const l in this.snsList)this.snsList[l].active="";let s=this.snsList[t];s.active="active",this.showKey=t,this.snsName=s.name,this.snsKey=s.key,this.snsSecret=s.secret,this.snsUse=s.use=="yes"?"사용":"사용안함",this.secretReq=s.secretRequired;let o=this.getSiteDomain();this.snsCallBackUrl=o+"/api/member/snsCallBack/"+t},secretRequired(t){return this.secretReq&&!t?"키값을 입력하세요":!0},getSiteDomain(){return location.hostname.split("."),"https://"+location.host},validate(){let t=!1,s=this.snsList[this.showKey];if(Object.keys(this.form).forEach(l=>{let i=!1;switch(l){case"snsSecret":s.secretRequired||(i=!0);break}i||(this.form[l]||(t=!0),this.$refs[l].validate(!0))}),t)return;s.use=this.snsUse=="사용"?"yes":"no",s.key=this.snsKey,s.secret=this.snsSecret;let o={sns:JSON.stringify(this.snsList)};this.serverFlag||(this.serverFlag=!0,this.emitter.emit("overlay","open"),v.post(R,o,l=>{this.emitter.emit("overlay","hide"),this.serverFlag=!1;let i={message:"SNS정보가 저장 되었습니다"};this.emitter.emit("modalOpen",i)}))}}},u=t=>(U("data-v-cc618ee6"),t=t(),q(),t),V={class:"page-container"},B={class:"memberSet-container"},D={class:"memberSet-list"},T=u(()=>e("div",{class:"memberSet-list-header"},[e("div",{class:"memberSet-title",style:{padding:"3px 0 0 0"}},"SNS 로그인")],-1)),A={class:"memberSet-list-body"},F={class:"main-memberSet"},M={class:"main-li"},P=["onClick"],z={class:"gname"},O={class:"memberSet-regist"},Y={key:0},G=u(()=>e("div",{class:"memberSet-title"},"SNS 정보 설정",-1)),j={class:"memberSet-title",style:{"font-size":"14px","padding-bottom":"10px"}},J={class:"table-ul"},H={class:"label-input"},Q={class:"input-box"},W={key:0},X={class:"label-input"},Z={class:"input-box"},$={class:"label"},ee={class:"label-input"},se={class:"radio-box",style:{width:"160px","padding-top":"10px"}},te={class:"callback-url"},ie=u(()=>e("div",{style:{"font-size":"14px"}}," CALL BACK URL ",-1)),ne={style:{"font-size":"14px","font-weight":"bold","padding-top":"9px"}},oe={class:"button-row"};function le(t,s,o,l,i,c){const h=d("font-awesome-icon"),p=d("v-text-field"),b=d("v-select"),g=d("v-btn");return r(),a("div",V,[e("div",B,[e("div",D,[T,e("div",A,[(r(!0),a(E,null,K(i.snsList,(n,k)=>(r(),a("ul",F,[e("li",M,[e("div",{class:L("main-data "+n.active),style:{cursor:"pointer"},onClick:re=>c.choiceSns(k)},[e("div",z,[y(m(n.name)+" ",1),n.use=="yes"?(r(),S(h,{key:0,icon:"fa-solid fa-eye"})):(r(),S(h,{key:1,icon:"fa-solid fa-eye-slash"}))])],10,P)])]))),256))])]),e("div",O,[i.showKey?(r(),a("div",Y,[G,e("form",{novalidate:"",onSubmit:s[3]||(s[3]=I((...n)=>c.validate&&c.validate(...n),["prevent"]))},[e("div",null,[e("div",j,m(i.snsName)+" 정보 ",1),e("ul",J,[e("li",null,[e("div",H,[e("div",Q,[_(p,{modelValue:i.snsKey,"onUpdate:modelValue":s[0]||(s[0]=n=>i.snsKey=n),ref:"snsKey",variant:"outlined",density:"compact",rules:[i.fieldRequired],label:"[필수]  REST API KEY",placeholder:" REST API KEY를 입력해주세요"},null,8,["modelValue","rules"])])])]),i.secretReq?(r(),a("li",W,[e("div",X,[e("div",Z,[_(p,{modelValue:i.snsSecret,"onUpdate:modelValue":s[1]||(s[1]=n=>i.snsSecret=n),ref:"snsSecret",variant:"outlined",density:"compact",rules:[c.secretRequired],label:"SCRIPT KEY",placeholder:" KEY를 입력해주세요"},null,8,["modelValue","rules"])])])])):f("",!0),e("li",null,[e("div",$,m(i.snsName)+" 사용여부 ",1),e("div",ee,[e("div",se,[_(b,{modelValue:i.snsUse,"onUpdate:modelValue":s[2]||(s[2]=n=>i.snsUse=n),items:i.useItems,label:"",density:"compact",variant:"outlined"},null,8,["modelValue","items"])])])])]),e("div",te,[ie,e("div",ne,m(i.snsCallBackUrl),1)])]),e("div",oe,[_(g,{class:"submit-button",type:"submit"},{default:w(()=>[y(" SNS정보 저장")]),_:1})])],32)])):f("",!0)])])])}const me=N(C,[["render",le],["__scopeId","data-v-cc618ee6"]]);export{me as default};
