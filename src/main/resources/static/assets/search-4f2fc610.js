import{u as b}from"./setting-932355f8.js";import"./jquery-d8551b6e.js";import{U as I}from"./util-75dcb7cf.js";import{_ as V,r as p,o as i,c as l,e as k,w as T,a,k as u,J as d,F as c,b as y,t as g,j as f,i as S}from"./index-e96a63ea.js";const N={watch:{$route(s,e){s.name=="contentList"&&this.setInit()},schoolType(s){this.updateSchoolTypes(s)},grade(s){this.updateGrades(s)}},data(){return{searchType:"",schoolType:"",grade:"",textbookName:"",seltextbookNames:[{title:"교과 전체",value:""}],selgradeItems:[{title:"학년 전체",value:""}],selschoolTypeItems:[{title:"학교급 전체",value:""}],selgtypeItems:[],gtype:"",keyword:"",form:null,schoolTypeItems:{},initFlag:"none",safariV13:!1}},created(){this.safariV13=I.checkSafari();const s=b();s!=null&&s.serverResponse&&(this.setEgtypes(s.gtypes),this.setSchoolTypes(s.schoolTypes),this.setInit())},methods:{setInit(){const s=this.$route.params.typeId,e=this.$route.params.subId,n=this.$route.params.id,r=this.$route.params.textBook!="none"?this.$route.params.textBook:"";switch(s){case"schoolType":if(n!="none"){this.initFlag="grade",this.grade=n.toString(),r&&(this.initFlag="textBook",this.textbookName=r);let t=0,h=0;for(const m of this.selgradeItems)m.value=="3to6"&&(t=h),h++;this.$route.params.id&&this.$route.params.id.toString()=="3to6"?t<1&&this.selgradeItems.push({title:"3~6학년",value:"3to6"}):t>0&&this.selgradeItems.splice(t,1)}this.schoolType=e,this.gtype="";break;case"gtype":this.gtype=e,this.schoolType="",this.grade="",this.textbookName="",this.initFlag="none";break}},setSchoolTypes(s){this.schoolTypeItems=s;for(const e in s)this.selschoolTypeItems.push({title:s[e].title,value:e.toString()});this.$route.params.id&&this.$route.params.id.toString()=="3to6"&&this.selgradeItems.push({title:"3~6학년",value:"3to6"})},setEgtypes(s){this.selgtypeItems=[],this.selgtypeItems.push({title:"주제 전체",value:""});for(const e in s)this.selgtypeItems.push({title:s[e],value:e})},updateSchoolTypes(s){switch(this.selgradeItems=[{title:"학년 전체",value:""}],this.seltextbookNames=[{title:"교과 전체",value:""}],this.initFlag){case"grade":this.initFlag="none",this.textbookName="";break;case"textBook":break;default:this.grade="",this.textbookName="";break}if(s){if(this.schoolTypeItems[s])for(const r in this.schoolTypeItems[s].items)this.selgradeItems.push({title:this.schoolTypeItems[s].items[r].title,value:r.toString()});let e=0,n=0;for(const r of this.selgradeItems)r.value=="3to6"&&(e=n),n++;this.$route.params.id&&this.$route.params.id.toString()=="3to6"?e<1&&this.selgradeItems.push({title:"3~6학년",value:"3to6"}):e>0&&this.selgradeItems.splice(e,1)}},updateGrades(s){switch(this.seltextbookNames=[{title:"교과 전체",value:""}],this.initFlag){case"textBook":break;default:this.textbookName="";break}if(this.initFlag="none",s&&this.schoolType){const e=this.schoolTypeItems[this.schoolType].items[s];if(e)for(const n in e.items)this.seltextbookNames.push({title:e.items[n],value:n.toString()})}},validate(){const s={schoolType:this.schoolType,grade:this.grade,textbook:this.textbookName,gtype:this.gtype,keyword:this.keyword};this.$emit("doSearch",s)}}},w={class:"search-layout"},F={class:"pc-box"},U={class:"search1"},B={id:"s"},C=["value"],E=["value"],L={class:"search2"},D=["value"],G={class:"gtype"},M=["value"],R={class:"search3"},j={class:"input-box"},A={type:"submit"};function H(s,e,n,r,t,h){const m=p("v-select"),v=p("v-text-field"),x=p("font-awesome-icon"),_=p("v-form");return i(),l("div",null,[k(_,{modelValue:t.form,"onUpdate:modelValue":e[9]||(e[9]=o=>t.form=o),novalidate:"",onSubmit:S(h.validate,["prevent"])},{default:T(()=>[a("div",w,[a("div",F,[a("ul",U,[a("li",B,[t.safariV13?u((i(),l("select",{key:0,"onUpdate:modelValue":e[0]||(e[0]=o=>t.schoolType=o)},[(i(!0),l(c,null,y(t.selschoolTypeItems,o=>(i(),l("option",{value:o.value},g(o.title),9,C))),256))],512)),[[d,t.schoolType]]):(i(),f(m,{key:1,style:{"max-height":"50px"},modelValue:t.schoolType,"onUpdate:modelValue":e[1]||(e[1]=o=>t.schoolType=o),items:t.selschoolTypeItems,density:"compact",variant:"outlined","bg-color":"#fff"},null,8,["modelValue","items"]))]),a("li",null,[t.safariV13?u((i(),l("select",{key:0,"onUpdate:modelValue":e[2]||(e[2]=o=>t.grade=o)},[(i(!0),l(c,null,y(t.selgradeItems,o=>(i(),l("option",{value:o.value},g(o.title),9,E))),256))],512)),[[d,t.grade]]):(i(),f(m,{key:1,style:{"max-height":"50px"},modelValue:t.grade,"onUpdate:modelValue":e[3]||(e[3]=o=>t.grade=o),items:t.selgradeItems,density:"compact",variant:"outlined","bg-color":"#fff"},null,8,["modelValue","items"]))])]),a("ul",L,[a("li",null,[t.safariV13?u((i(),l("select",{key:0,"onUpdate:modelValue":e[4]||(e[4]=o=>t.textbookName=o)},[(i(!0),l(c,null,y(t.seltextbookNames,o=>(i(),l("option",{value:o.value},g(o.title),9,D))),256))],512)),[[d,t.textbookName]]):(i(),f(m,{key:1,style:{"max-height":"50px"},modelValue:t.textbookName,"onUpdate:modelValue":e[5]||(e[5]=o=>t.textbookName=o),items:t.seltextbookNames,density:"compact",variant:"outlined","bg-color":"#fff"},null,8,["modelValue","items"]))]),a("li",G,[t.safariV13?u((i(),l("select",{key:0,"onUpdate:modelValue":e[6]||(e[6]=o=>t.gtype=o)},[(i(!0),l(c,null,y(t.selgtypeItems,o=>(i(),l("option",{value:o.value},g(o.title),9,M))),256))],512)),[[d,t.gtype]]):(i(),f(m,{key:1,style:{"max-height":"50px"},modelValue:t.gtype,"onUpdate:modelValue":e[7]||(e[7]=o=>t.gtype=o),items:t.selgtypeItems,density:"compact",variant:"outlined","bg-color":"#fff"},null,8,["modelValue","items"]))])])]),a("div",R,[a("div",j,[k(v,{variant:"outlined",density:"compact",placeholder:"검색어를 입력해주세요",modelValue:t.keyword,"onUpdate:modelValue":e[8]||(e[8]=o=>t.keyword=o),"bg-color":"#F8F8F8"},null,8,["modelValue"])]),a("button",A,[k(x,{icon:"fa-solid fa-magnifying-glass"})])])])]),_:1},8,["modelValue","onSubmit"])])}const O=V(N,[["render",H],["__scopeId","data-v-d656568f"]]);export{O as S};
